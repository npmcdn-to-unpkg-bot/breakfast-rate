<% include ../partials/header %>

<div class="container">
	<div  class="new-edit-container">	

		<h1>Edit <%=recipe.name%></h1>

		<form action="/recipes/<%=recipe._id%>?_method=PUT" method="POST" id="newAndEditForm">
			
			<div class="form-group ">
				<label>Recipe Name:</label>
				<input type="text" name="name" placeholder="Name" value="<%=recipe.name%>" class="form-control" >
			</div>

			<div class="form-group">
				<label>Source URL:</label>
				<br>If this recipe isn't original, include the URL of where you found it.
				<input type="text" name="source" class="form-control" value="<%=recipe.source%>">
			</div>

			<div class="form-group">
				<label>Image URL:</label>
				<input type="text" name="image" placeholder="Image URL" value="<%=recipe.image%>" class="form-control">
			</div>

			<div class="form-group">
				<label>Description:</label>
				<textarea name="description" class="form-control" rows="4" ><%=recipe.description%></textarea>
			</div>

			<div class="form-group">
				<label>Servings:</label>
				<input type="number" min="1" name="servings" class="form-control" value="<%=recipe.servings%>" aria-describedby="inputSuccess5Status" >
			</div>

			<div class="form-group">
				<label>Prep Time (in minutes):</label>
				<input type="number" min="0" name="prepTime" class="form-control" value="<%=recipe.prepTime%>" >
			</div>

			<div class="form-group">
				<label>Cook Time (in minutes):</label>
				<input type="number" min="0" name="cookTime" class="form-control" value="<%=recipe.cookTime%>">
			</div>

			<div class="form-group">
				<label>Ingredients:</label>
					
					<div id = "ingredientHolder">
						<div class="ingredient-edit">
  							<input type="text" name="ingredients" class="form-control" value="<%=recipe.ingredients[0]%>">
						</div>

						<% for(i=1; i<recipe.ingredients.length; i++){ %>
								
							<div class="ingredient-edit">
								<span class="delete-form"><i class="fa fa-times-circle pull-right" aria-hidden="true"></i></span>
								<input type="text" name="ingredients" class="form-control" value="<%=recipe.ingredients[i]%>">
							</div>
							
						<% } %>

					</div>
						
				<button type="button" class="btn btn-xs" id="addIngredient">Add Ingredient</button> 
			</div>

			<div class="form-group">
				<label>Instructions:</label>
				
				<div id="instructionHolder">
					<ol>
						<li>
							Step <span class="step"></span>								
							<textarea name="instructions" class="form-control" rows="4"><%=recipe.instructions[0]%></textarea>			
						</li>
						
						<% for(i=1; i<recipe.instructions.length; i++){ %>
							<li>
								Step <span class="step"></span>
								<span class="delete-form"><i class="fa fa-times-circle pull-right" aria-hidden="true"></i></span>
								
								<textarea name="instructions" class="form-control" rows="4"><%=recipe.instructions[i]%></textarea>
								
							</li>
						<% } %>
					</ol>
				</div>
				<button type="button" class="btn btn-xs" id="addInstruction">Add instruction</button>
			</div>

			<div class="form-group">
				<button class="btn btn-warning">Update</button>
			</div>

		</form>

		

	</div>
</div>

<% include ../partials/footer %>
